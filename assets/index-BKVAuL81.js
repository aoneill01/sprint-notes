import{R as t,u as F,c as D,r as $,_ as B,P as e,d as G,j as a,a as V}from"./index-C8xBDkNJ.js";import{e as S,i as W,r as J,v as Q,W as M,g as P,A as U,l as R,B as C,q as X,M as Z,t as O,E as ee,T as te,k as ae,m as ne,o as _,n as se,G as oe,p as ce}from"./index-CVBvLDor.js";const q=t.forwardRef(({className:m,decorator:r,helperText:x,id:h,labelText:d,onChange:k=J,onClick:b,indeterminate:p=!1,invalid:c,invalidText:f,hideLabel:T,readOnly:l,title:o="",warn:u,warnText:s,slug:g,...N},i)=>{const n=F(),E=!l&&!c&&u,w=!c&&!u,I=S(),z=x?`checkbox-helper-text-${I}`:void 0,v=x?t.createElement("div",{id:z,className:`${n}--form__helper-text`},x):null,H=D(`${n}--form-item`,`${n}--checkbox-wrapper`,m,{[`${n}--checkbox-wrapper--readonly`]:l,[`${n}--checkbox-wrapper--invalid`]:!l&&c,[`${n}--checkbox-wrapper--warning`]:E,[`${n}--checkbox-wrapper--slug`]:g,[`${n}--checkbox-wrapper--decorator`]:r}),K=D(`${n}--checkbox-label-text`,{[`${n}--visually-hidden`]:T}),j=g??r,L=W(j,U)?$.cloneElement(j,{size:j.props.kind==="inline"?"md":"mini"}):null;return t.createElement("div",{className:H},t.createElement("input",B({},N,{type:"checkbox","data-invalid":c?!0:void 0,onChange:y=>{!l&&k&&k(y,{checked:y.target.checked,id:h})},className:`${n}--checkbox`,id:h,ref:y=>{y&&(y.indeterminate=p??!1),typeof i=="function"?i(y):i&&"current"in i&&(i.current=y)},"aria-readonly":l,onClick:y=>{l&&y.preventDefault(),b&&b(y)}})),t.createElement("label",{htmlFor:h,className:`${n}--checkbox-label`,title:o},t.createElement(Q,{className:K},d,g?L:r?t.createElement("div",{className:`${n}--checkbox-wrapper-inner--decorator`},L):"")),t.createElement("div",{className:`${n}--checkbox__validation-msg`},!l&&c&&t.createElement(t.Fragment,null,t.createElement(M,{className:`${n}--checkbox__invalid-icon`}),t.createElement("div",{className:`${n}--form-requirement`},f)),E&&t.createElement(t.Fragment,null,t.createElement(P,{className:`${n}--checkbox__invalid-icon ${n}--checkbox__invalid-icon--warning`}),t.createElement("div",{className:`${n}--form-requirement`},s))),w&&v)});q.propTypes={checked:e.bool,className:e.string,decorator:e.node,defaultChecked:e.bool,disabled:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,indeterminate:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,onChange:e.func,readOnly:e.bool,slug:G(e.node),title:e.string,warn:e.bool,warnText:e.node};q.displayName="Checkbox";const Y=({children:m,className:r,decorator:x,helperText:h,invalid:d,invalidText:k,legendId:b,legendText:p,readOnly:c,warn:f,warnText:T,slug:l,orientation:o="vertical",...u})=>{const s=F(),g=!c&&!d&&f,N=!d&&!f,i=S(),n=h?`checkbox-group-helper-text-${i}`:void 0,E=h?t.createElement("div",{id:n,className:`${s}--form__helper-text`},h):null,w=D(`${s}--checkbox-group`,r,{[`${s}--checkbox-group--${o}`]:o==="horizontal",[`${s}--checkbox-group--readonly`]:c,[`${s}--checkbox-group--invalid`]:!c&&d,[`${s}--checkbox-group--warning`]:g,[`${s}--checkbox-group--slug`]:l,[`${s}--checkbox-group--decorator`]:x}),I=l??x,v=W(I,U)?$.cloneElement(I,{size:"mini",kind:"default"}):null;return t.createElement("fieldset",B({className:w,"data-invalid":d?!0:void 0,"aria-labelledby":u["aria-labelledby"]||b,"aria-readonly":c,"aria-describedby":!d&&!f&&E?n:void 0},u),t.createElement("legend",{className:`${s}--label`,id:b||u["aria-labelledby"]},p,l?v:x?t.createElement("div",{className:`${s}--checkbox-group-inner--decorator`},v):""),m,t.createElement("div",{className:`${s}--checkbox-group__validation-msg`},!c&&d&&t.createElement(t.Fragment,null,t.createElement(M,{className:`${s}--checkbox__invalid-icon`}),t.createElement("div",{className:`${s}--form-requirement`},k)),g&&t.createElement(t.Fragment,null,t.createElement(P,{className:`${s}--checkbox__invalid-icon ${s}--checkbox__invalid-icon--warning`}),t.createElement("div",{className:`${s}--form-requirement`},T))),N&&E)};Y.propTypes={children:e.node,className:e.string,decorator:e.node,helperText:e.node,invalid:e.bool,invalidText:e.node,legendId:e.node,legendText:e.node.isRequired,orientation:e.oneOf(["horizontal","vertical"]),readOnly:e.bool,slug:G(e.node),warn:e.bool,warnText:e.node};const A=({tasks:m,newDate:r,onAddTask:x,onDeleteTask:h,onUpdateTask:d})=>{const[k,b]=$.useState(""),[p,c]=$.useState(null),f=$.useId(),T=()=>k.trim().length>0,l=()=>{T()&&(x({date:r,description:k.trim(),completed:!1}),b(""))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex"},children:[a.jsx(R,{id:f+"-task-input",labelText:"Label text",hideLabel:!0,value:k,onChange:o=>b(o.target.value),onKeyUp:o=>{o.key==="Enter"&&l()},placeholder:"Type description here",size:"md",type:"text",style:{marginBottom:"16px"}}),a.jsx(C,{size:"md",kind:"tertiary",hasIconOnly:!0,renderIcon:X,iconDescription:"Add task",disabled:!T(),onClick:l})]}),a.jsx("div",{style:{marginBottom:"32px"},children:m.map((o,u)=>a.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:16},children:[a.jsx(Y,{legendText:"",children:a.jsx(q,{id:`${f}-task-${u}`,labelText:o.description,hideLabel:!0,checked:o.completed,onChange:(s,{checked:g})=>d({...o,completed:g})},u)}),a.jsx("div",{style:{flex:1},children:a.jsx(Z,{children:O(o.description)})}),a.jsxs("div",{children:[a.jsx(C,{size:"sm",kind:"ghost",hasIconOnly:!0,renderIcon:ee,iconDescription:"Edit task",onClick:()=>c({...o})}),a.jsx(C,{size:"sm",kind:"danger--ghost",hasIconOnly:!0,renderIcon:te,iconDescription:"Delete task",onClick:()=>h(o.id)})]})]},u))}),V.createPortal(a.jsx(ae,{onRequestClose:()=>{c(null)},onRequestSubmit:()=>{d(p),c(null)},modalHeading:"Edit task description",primaryButtonText:"Update",secondaryButtonText:"Cancel","aria-label":"Task editor",open:p!==null,children:a.jsx(R,{"data-modal-primary-focus":!0,id:"edit-task-description",labelText:"Task",value:p==null?void 0:p.description,onChange:o=>{c({...p,description:o.target.value})}})}),document.body)]})};function ie(){const{today:m,yesterday:r}=ne(),x=$.useCallback(i=>i.date===m,[m]),{notes:h,addNote:d,deleteNote:k,updateNote:b}=_("task",x),p=$.useCallback(i=>i.date===r,[r]),{notes:c,addNote:f,deleteNote:T,updateNote:l}=_("task",p),o=$.useCallback(i=>se(i.date,r,m),[m,r]),{notes:u,addNote:s,deleteNote:g,updateNote:N}=_("info",o);return a.jsx(oe,{fullWidth:!0,children:a.jsxs(ce,{lg:16,md:8,sm:4,children:[a.jsx("h2",{children:"Today I will..."}),a.jsx(A,{tasks:h,newDate:m,onAddTask:d,onDeleteTask:k,onUpdateTask:b}),a.jsx("h2",{children:"Yesterday I..."}),a.jsx(A,{tasks:c,newDate:r,onAddTask:f,onDeleteTask:T,onUpdateTask:l}),a.jsx("h2",{children:"Blockers, Information-Radiators, & Meet-Afters"}),a.jsx(A,{tasks:u,newDate:m,onAddTask:s,onDeleteTask:g,onUpdateTask:N})]})})}export{ie as component};
