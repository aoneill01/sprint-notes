import{R as t,u as L,c as D,r as g,_ as R,P as a,d as S,j as n,a as V}from"./index-DnCXhx6Y.js";import{e as B,i as G,q as K,r as Q,W,g as M,A as P,l as F,B as A,p as X,M as Z,t as O,E as ee,T as ae,k as te,m as ne,G as se,o as oe}from"./index-Ih1tUN-V.js";const U=t.forwardRef(({className:x,decorator:k,helperText:r,id:i,labelText:d,onChange:h=K,onClick:m,indeterminate:u=!1,invalid:c,invalidText:o,hideLabel:p,readOnly:e,title:b="",warn:f,warnText:l,slug:$,...N},y)=>{const s=L(),E=!e&&!c&&f,j=!c&&!f,I=B(),q=r?`checkbox-helper-text-${I}`:void 0,v=r?t.createElement("div",{id:q,className:`${s}--form__helper-text`},r):null,H=D(`${s}--form-item`,`${s}--checkbox-wrapper`,x,{[`${s}--checkbox-wrapper--readonly`]:e,[`${s}--checkbox-wrapper--invalid`]:!e&&c,[`${s}--checkbox-wrapper--warning`]:E,[`${s}--checkbox-wrapper--slug`]:$,[`${s}--checkbox-wrapper--decorator`]:k}),J=D(`${s}--checkbox-label-text`,{[`${s}--visually-hidden`]:p}),w=$??k,z=G(w,P)?g.cloneElement(w,{size:w.props.kind==="inline"?"md":"mini"}):null;return t.createElement("div",{className:H},t.createElement("input",R({},N,{type:"checkbox","data-invalid":c?!0:void 0,onChange:T=>{!e&&h&&h(T,{checked:T.target.checked,id:i})},className:`${s}--checkbox`,id:i,ref:T=>{T&&(T.indeterminate=u??!1),typeof y=="function"?y(T):y&&"current"in y&&(y.current=T)},"aria-readonly":e,onClick:T=>{e&&T.preventDefault(),m&&m(T)}})),t.createElement("label",{htmlFor:i,className:`${s}--checkbox-label`,title:b},t.createElement(Q,{className:J},d,$?z:k?t.createElement("div",{className:`${s}--checkbox-wrapper-inner--decorator`},z):"")),t.createElement("div",{className:`${s}--checkbox__validation-msg`},!e&&c&&t.createElement(t.Fragment,null,t.createElement(W,{className:`${s}--checkbox__invalid-icon`}),t.createElement("div",{className:`${s}--form-requirement`},o)),E&&t.createElement(t.Fragment,null,t.createElement(M,{className:`${s}--checkbox__invalid-icon ${s}--checkbox__invalid-icon--warning`}),t.createElement("div",{className:`${s}--form-requirement`},l))),j&&v)});U.propTypes={checked:a.bool,className:a.string,decorator:a.node,defaultChecked:a.bool,disabled:a.bool,helperText:a.node,hideLabel:a.bool,id:a.string.isRequired,indeterminate:a.bool,invalid:a.bool,invalidText:a.node,labelText:a.node.isRequired,onChange:a.func,readOnly:a.bool,slug:S(a.node),title:a.string,warn:a.bool,warnText:a.node};U.displayName="Checkbox";const Y=({children:x,className:k,decorator:r,helperText:i,invalid:d,invalidText:h,legendId:m,legendText:u,readOnly:c,warn:o,warnText:p,slug:e,orientation:b="vertical",...f})=>{const l=L(),$=!c&&!d&&o,N=!d&&!o,y=B(),s=i?`checkbox-group-helper-text-${y}`:void 0,E=i?t.createElement("div",{id:s,className:`${l}--form__helper-text`},i):null,j=D(`${l}--checkbox-group`,k,{[`${l}--checkbox-group--${b}`]:b==="horizontal",[`${l}--checkbox-group--readonly`]:c,[`${l}--checkbox-group--invalid`]:!c&&d,[`${l}--checkbox-group--warning`]:$,[`${l}--checkbox-group--slug`]:e,[`${l}--checkbox-group--decorator`]:r}),I=e??r,v=G(I,P)?g.cloneElement(I,{size:"mini",kind:"default"}):null;return t.createElement("fieldset",R({className:j,"data-invalid":d?!0:void 0,"aria-labelledby":f["aria-labelledby"]||m,"aria-readonly":c,"aria-describedby":!d&&!o&&E?s:void 0},f),t.createElement("legend",{className:`${l}--label`,id:m||f["aria-labelledby"]},u,e?v:r?t.createElement("div",{className:`${l}--checkbox-group-inner--decorator`},v):""),x,t.createElement("div",{className:`${l}--checkbox-group__validation-msg`},!c&&d&&t.createElement(t.Fragment,null,t.createElement(W,{className:`${l}--checkbox__invalid-icon`}),t.createElement("div",{className:`${l}--form-requirement`},h)),$&&t.createElement(t.Fragment,null,t.createElement(M,{className:`${l}--checkbox__invalid-icon ${l}--checkbox__invalid-icon--warning`}),t.createElement("div",{className:`${l}--form-requirement`},p))),N&&E)};Y.propTypes={children:a.node,className:a.string,decorator:a.node,helperText:a.node,invalid:a.bool,invalidText:a.node,legendId:a.node,legendText:a.node.isRequired,orientation:a.oneOf(["horizontal","vertical"]),readOnly:a.bool,slug:S(a.node),warn:a.bool,warnText:a.node};const _=({tasks:x,onAddTask:k,onDeleteTask:r,onUpdateTask:i})=>{const[d,h]=g.useState(""),[m,u]=g.useState(null),c=g.useId(),o=()=>d.trim().length>0,p=()=>{o()&&(k(d.trim()),h(""))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex"},children:[n.jsx(F,{id:c+"-task-input",labelText:"Label text",hideLabel:!0,value:d,onChange:e=>h(e.target.value),onKeyUp:e=>{e.key==="Enter"&&p()},placeholder:"Type description here",size:"md",type:"text",style:{marginBottom:"16px"}}),n.jsx(A,{size:"md",kind:"tertiary",hasIconOnly:!0,renderIcon:X,iconDescription:"Add task",disabled:!o(),onClick:p})]}),n.jsx("div",{style:{marginBottom:"32px"},children:x.map((e,b)=>n.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:16},children:[n.jsx(Y,{legendText:"",children:n.jsx(U,{id:`${c}-task-${b}`,labelText:e.description,hideLabel:!0,checked:e.completed,onChange:(f,{checked:l})=>i({...e,completed:l})},b)}),n.jsx("div",{style:{flex:1},children:n.jsx(Z,{children:O(e.description)})}),n.jsxs("div",{children:[n.jsx(A,{size:"sm",kind:"ghost",hasIconOnly:!0,renderIcon:ee,iconDescription:"Edit task",onClick:()=>u({...e})}),n.jsx(A,{size:"sm",kind:"danger--ghost",hasIconOnly:!0,renderIcon:ae,iconDescription:"Delete task",onClick:()=>r(e.id)})]})]},b))}),V.createPortal(n.jsx(te,{onRequestClose:()=>{u(null)},onRequestSubmit:()=>{i(m),u(null)},modalHeading:"Edit task description",primaryButtonText:"Update",secondaryButtonText:"Cancel","aria-label":"Task editor",open:m!==null,children:n.jsx(F,{"data-modal-primary-focus":!0,id:"edit-task-description",labelText:"Task",value:m==null?void 0:m.description,onChange:e=>{u({...m,description:e.target.value})}})}),document.body)]})},C=(x,k)=>{const r=`${x}-${k}`,i=()=>{const o=localStorage.getItem(r);return o?JSON.parse(o):[]},[d,h]=g.useState(i);return g.useEffect(()=>{h(i)},[r]),g.useEffect(()=>{localStorage.setItem(r,JSON.stringify(d))},[d]),{tasks:d,handleUpdateTask:o=>{h(p=>p.map(e=>e.id===o.id?o:e))},handleDeleteTask:o=>{h(p=>p.filter(e=>e.id!==o))},handleAddTask:o=>{h(p=>[{id:new Date().getTime().toString(),completed:!1,description:o,date:k},...p])}}};function re(){const{today:x,yesterday:k}=ne(),{tasks:r,handleUpdateTask:i,handleDeleteTask:d,handleAddTask:h}=C("task",x),{tasks:m,handleUpdateTask:u,handleDeleteTask:c,handleAddTask:o}=C("task",k),{tasks:p,handleUpdateTask:e,handleDeleteTask:b,handleAddTask:f}=C("info",x);return n.jsx(se,{fullWidth:!0,children:n.jsxs(oe,{lg:16,md:8,sm:4,children:[n.jsx("h2",{children:"Today I will..."}),n.jsx(_,{tasks:r,onAddTask:h,onDeleteTask:d,onUpdateTask:i}),n.jsx("h2",{children:"Yesterday I..."}),n.jsx(_,{tasks:m,onAddTask:o,onDeleteTask:c,onUpdateTask:u}),n.jsx("h2",{children:"Blockers, Information-Radiators, & Meet-Afters"}),n.jsx(_,{tasks:p,onAddTask:f,onDeleteTask:b,onUpdateTask:e})]})})}export{re as component};
